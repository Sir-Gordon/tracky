<html>

<head>
    <title>TRACKY</title>
    <!---This is for the title icon--->
    <link rel="icon" sizes="32x32" href="tracky_logo_v3.png">
    <link rel="icon" sizes="32x32" href="tracky_logo_v3.png">
    <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">
    </script>


<script>
$(document).ready(function() {
//    $("#signup_form").submit(function(event){

    $("#test").click(function(event){
        var name = $("#name").val();
        var username = $("#username").val();
        var pw = $("#pw").val();
        if (name == "" || username == "" || pw ==""){
            alert("All the fields must be populated");
        }
        else{
            submission()
        }
    })
    function submission(){  
        var name = $("#name").val();
        var username = $("#username").val();
        var pw = $("#pw").val();
        var URL ="http://localhost:8080/Signup";
        $.ajax({ 
            type:"POST", // send via GET parameters as a JSON object
            url: URL, // the address of the server side data source to be transferred
            data: {"name":name,
                  "username":username,
                  "pw":pw,}, // JSON object that will be sent to the server
            dataType: "html",
            success: function(msg){
                alert(msg);
                document.getElementById("signup_form").reset();

            },
            error: function(e){
                alert("Error!");
                console.log("Error: ",e)
            }
        })
    }
})

</script>
</head>

<body>
    <div id="header">
        <div class="inner-header">
            <ul class="navigation">
                <li><a href="homepage.html" class="hover">Home</a></li>
                <li><a href="Signup.html" class="hover">Sign Up</a></li>
                <li><a href="login.html" class="hover">Log In</a></li>
                <a href="portfolio.html"><img alt="Tracky Logo" src="tracky_logo_v3.png" width="80" height="80"></a>
            </ul>
        </div>
    </div>
    <div class="login-box">
        <h1>Sign Up</h1>
        <form id="signup_form">
            <div class="textbox">
                <i class="fas fa-user"></i>
                <input id="name" type="text" placeholder="Full Name">
            </div>
            <div class="textbox">
                <i class="fas fa-user"></i>
                <input id="username" type="text" placeholder="Enter a Username">
            </div>
            <div class="textbox">
                <i class="fas fa-lock"></i>
                <input id="pw" type="password" placeholder="Enter a Password">
            </div>
        </form>
        <button type="submit" class="btn" id ="test" >Sign Up</button>

    </div>

</body>

</html>
